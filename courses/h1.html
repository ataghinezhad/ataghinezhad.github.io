<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome Page</title>
</head>
<body>
  <form id="nameForm" method="post">
    <label for="username">Enter your name:</label>
    <input type="text" id="username" name="username" required>
    <button type="submit">Submit</button>
  </form>

  <h2 id="welcomeMsg"></h2>

  <script>
    // Cookie helpers
    function getCookie(name) {
      let value = "; " + document.cookie;
      let parts = value.split("; " + name + "=");
      if (parts.length === 2) return parts.pop().split(";").shift();
    }

    function setCookie(name, value, days) {
      let expires = "";
      if (days) {
        let date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    // On form submit
    document.getElementById("nameForm").addEventListener("submit", function(e) {
      e.preventDefault(); // stop default POST reload
      let username = document.getElementById("username").value.trim();

      if (username.toLowerCase() === "pdf") {
        // redirect if input is "pdf"
        window.location.href = "mine.pdf";
      } else {
        // save name in cookie and show welcome
        setCookie("username", username, 1);
        document.getElementById("welcomeMsg").innerText = "Welcome, " + username + "!";
        document.getElementById("nameForm").style.display = "none";
      }
    });

    // Show welcome if cookie exists
    let savedName = getCookie("username");
    if (savedName) {
      document.getElementById("welcomeMsg").innerText = "Welcome, " + savedName + "!";
      document.getElementById("nameForm").style.display = "none";
    }
  </script>
</body>
</html>
